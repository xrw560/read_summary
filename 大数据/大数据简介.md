# 简介

## Flume: 日志采集聚合传输系统

Flume是Cloudera提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume支持在日志系统中定制各类数据发送方，用于**收集数据**；同时，Flume提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力;

项目中通过flume对日志文件进行监测，若有新的数据就将数据推送到消息队列kafka



## Kafka:分布式消息系统

Kafka是最初由Linkedin公司开发，是一个**分布式**、**支持分区**的（partition）、**多副本**的（replica），基于zookeeper协调的==分布式消息系统==，它的最大的特性就是可以实时的处理大量数据以满足各种需求场景：比如基于hadoop的批处理系统、低延迟的实时系统、storm/Spark流式处理引擎，web/nginx日志、访问日志，消息服务等等



使用场景：

* 日志收集：一个公司可以用Kafka可以收集各种服务的log，通过kafka以统一接口服务的方式开放给各种consumer，例如hadoop、Hbase、Solr等。

* ==消息系统：解耦和生产者和消费者、缓存消息等==。

* 用户活动跟踪：Kafka经常被用来记录web用户或者app用户的各种活动，如浏览网页、搜索、点击等活动，这些活动信息被各个服务器发布到kafka的topic中，然后订阅者通过订阅这些topic来做实时的监控分析，或者装载到hadoop、数据仓库中做离线分析和挖掘。

* 运营指标：Kafka也经常用来记录运营监控数据。包括收集各种分布式应用的数据，生产各种操作的集中反馈，比如报警和报告。

* 流式处理：比如spark streaming和storm

* 事件源



## Hadoop:分布式系统的基础架构

Hadoop是一个开源的大数据框架，是一个分布式计算的解决方案。

Hadoop的两个核心解决了**数据存储问题**（**HDFS分布式文件系统**）和分布式计算问题（MapReduce）。

举例1：用户想要获取某个路径的数据，数据存放在很多的机器上，作为用户不用考虑在哪台机器上，HD-FS自动搞定。

举例2：如果一个100p的文件，希望过滤出含有Hadoop字符串的行。这种场景下，HDFS分布式存储，突破了服务器硬盘大小的限制，解决了单台机器无法存储大文件的问题，同时MapReduce分布式计算可以将大数据量的作业先分片计算，最后汇总输出。

**Hadoop特点**

优点: 

1. 支持超大文件。HDFS存储的文件可以支持TB和PB级别的数据。

2. 检测和快速应对硬件故障。数据备份机制，NameNode通过心跳机制来检测DataNode是否还存在。

3. 高扩展性。可建构在廉价机上，实现线性（横向）扩展，当集群增加新节点之后，NameNode也可以感知，将数据分发和备份到相应的节点上。

4. 成熟的生态圈。借助开源的力量，围绕Hadoop衍生的一些小工具。

缺点

1. 不能做到低延迟。高数据吞吐量做了优化，牺牲了获取数据的延迟。

2. 不适合大量的小文件存储。

3. 文件修改效率低。HDFS适合一次写入，多次读取的场景。





## Hive: 数据仓库工具

hive是基于Hadoop的一个数据仓库工具，用来进行数据提取、转化、加载，这是一种可以存储、查询和分析存储在Hadoop中的大规模数据的机制。**hive数据仓库工具能将结构化的数据文件映射为一张数据库表，并提供SQL查询功能**，能将SQL语句转变成MapReduce任务来执行。Hive的优点是学习成本低，可以通过类似SQL语句实现快速MapReduce统计，使MapReduce变得更加简单，而不必开发专门的MapReduce应用程序。hive是十分适合数据仓库的统计分析

hive不适合用于联机(online)事务处理，也不提供实时查询功能。它最适合应用在基于大量不可变数据的批处理作业。hive的特点包括：可伸缩（在Hadoop的集群上动态添加设备）、可扩展、容错、输入格式的松散耦合。





## HBase: 分布式的开源数据库

HBase – Hadoop Database，是一个高可靠性、高性能、**面向列、可伸缩**的**分布式存储系统**

Hive适合用来对一段时间内的数据进行分析查询，例如，用来计算趋势或者网站的日志。Hive不应该用来进行实时的查询。因为它需要很长时间才可以返回结果。

Hbase非常适合用来进行大数据的实时查询。Facebook用Hbase进行消息和实时的分析。它也可以用来统计Facebook的连接数。



## Spark: 分布式计算引擎

Apache Spark 是专为大规模数据处理而设计的快速通用的计算引擎。



Spark特点：

1. 高级 API 剥离了对集群本身的关注，Spark 应用开发者可以专注于应用所要做的计算本身。
2. Spark 很快，支持交互式计算和复杂算法。
3. Spark 是一个通用引擎，可用它来完成各种各样的运算，包括 SQL 查询、文本处理、机器学习等，而在 Spark 出现之前，我们一般需要学习各种各样的引擎来分别处理这些需求。



## Docker: 应用容器引擎

Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口,更重要的是容器性能开销极低。

**Docker的应用场景**

* Web 应用的自动化打包和发布。

* 自动化测试和持续集成、发布。

* 在服务型环境中部署和调整数据库或其他的后台应用。

* 从头编译或者扩展现有的 OpenShift 或 Cloud Foundry 平台来搭建自己的 PaaS 环境。

**Docker 的优点**

Docker 是一个用于开发，交付和运行应用程序的开放平台。Docker 使您能够将应用程序与基础架构分开，从而可以快速交付软件。借助 Docker，您可以与管理应用程序相同的方式来管理基础架构。通过利用 Docker 的方法来快速交付，测试和部署代码，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。



**docker与虚拟机的区别**

1. 虚拟机是在一台物理机器上，利用虚拟化技术，虚拟出来多个操作系统，每个操作系统之间是隔离的。

   Docker是开源的应用容器引擎，依然需要先在电脑上安装操作系统，然后安装Docker容器的管理器，才可以。

2. 虚拟机是在硬件级别进行虚拟化，而Docker是在操作系统的层面虚拟化；虚拟机是通过模拟硬件搭建操作系统，而Docker则是复用操作系统；虚拟机实现了操作系统之间的隔离，Docker只是进程之间的隔离，所以虚拟机隔离级别更高、安全性方面也更强，但Docker的运行速度很快，可以使用秒计算，而虚拟机的速度通常需要按分钟计算



**Docker的优点：**

1. 快速高效的开发生命周期

   Docker的目标之一就是缩短代码从开发、测试到部署、上线运行的周期，让你的应用程序具备可移植性，易于构建，并易于协作

   Docker 允许开发人员使用您提供的应用程序或服务的本地容器在标准化环境中工作，从而简化了开发的生命周期。

   容器非常适合持续集成和持续交付（CI / CD）工作流程，请考虑以下示例方案：

   * 您的开发人员在本地编写代码，并使用 Docker 容器与同事共享他们的工作。
   * 他们使用 Docker 将其应用程序推送到测试环境中，并执行自动或手动测试。
   * 当开发人员发现错误时，他们可以在开发环境中对其进行修复，然后将其重新部署到测试环境中，以进行测试和验证。
   * 测试完成后，将修补程序推送给生产环境，就像将更新的镜像推送到生产环境一样简单。

2. 上手快

   用户只需要几分钟，就可以把自己的程序“docker 化"。

3. 在同一硬件上运行更多工作负载
   Docker 轻巧快速。它为基于虚拟机管理程序的虚拟机提供了可行、经济、高效的替代方案，因此您可以利用更多的计算能力来实现业务目标。Docker 非常适合于高密度环境以及中小型部署，而您可以用更少的资源做更多的事情